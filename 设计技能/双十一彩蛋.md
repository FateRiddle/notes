# 双十一彩蛋解决方案分析

- 1：分析现有 ar 的能力，H5（任何方法），集团内（native、主要是能力和包体积）

- 2: 选择 1 中符合的，看现有彩蛋场景是否支撑
- 3：假如不能支撑，还有其他的非 AR 彩蛋场景吗

## 背景：

尝试在 AR 上突破，给大家带来惊喜，给业务方带来新玩法

## 1. 现有 AR 解决方案：

### 背景

- 现行 AR 主要分为两类：marker AR 和 markless AR。
- marker 类需要以一个特定图案或物体（称为 marker）作为识别基准，以此在其附近生成 AR 图像，例如相机对准一张哈更达斯图片，在镜头里生成一个 3D 吉祥物动图。2001 年开源的 ARToolKit 至今仍是 marker 类 AR 主要免费可行方案。
- markless 顾名思义不需要 marker，结合 AI 运生的高级图像捕捉和 GPS 追踪等方式，让 AR 不再需要提前了解它所投射的环境，使 AR 随时随地。markless AR 从 16 年在国外现象级的 AR 游戏 pokemon go 开始走上舞台。17 年 10 月苹果推出的 ARKit，18 年 3 月 google 推出的 ARCore 分别是 iOS 和 Android 进行 markless AR 开发的标准框架，代表 native AR 开发走上 markless 时代。目前 app store 上所有流行 AR 游戏都属于 markless AR。

### 框架

- [AR.js](https://github.com/jeromeetienne/AR.js)（marker）

  - 基于 three.js + jsartoolkit5。（jsartoolkit5 是 artoolkit 的 web 端实现。）
  - 兼容所有支持 webGL 和 webRTC 的手机。
  - 有 AFrame 插件，可使用成熟的 Aframe。
  - 项目仍在维护，文档比较缺失。

- [SDK-UpARToolkit 蚂上](https://www.atatech.org/articles/71726) （marker）

  - 基于 ARToolkit 5.3.2。 蚂蚁 F 工作室在开发中优化和定制了适合集团需求的一个版本
  - 文档没找到，目前已经不在维护（？）

- [Redim](http://qiuzhi.alidemo.cn/redim/doc-cn/public/cn/references/index.html) （marker）

  - Weex 下的 AR 以及 VR 的一组组件。似乎已经弃坑？

- [TidaAR](https://docs.alipay.com/hudongopen/open/tidaar) （marker）

  - 提供 marker 图，调用 sdk 接口开发

- [AliGenie AR 开发平台](https://open-ar.bot.tmall.com/) (marker ？)

  - 无文档。大部分示例都是 marker 类。但似乎也支持 SLAM 图像追踪法，为 markless 中一种。

## 2. 双十一彩蛋项目和以上 AR 框架的契合度

- 彩蛋目标：给各位带来惊喜，给业务方带来新玩法体验，沉淀可复用技术。
- 目前所有 web 开发系的 AR 实现都是 marker 类。marker AR 在线下有广泛的应用（扫描商品、活动图生成视觉辅助说明等），但表现方式缺少惊喜，在技术上可复用，但缺乏新颖度。
- 引入包大小是一大忧虑点，比如 Redim 的引入包需要 4M 多，影响首次加载响应时间。
- AliGenie 目前还不提供 web 的 api，需要使用 native 开发。

## 3. 其他替代方案

- “旅程”主题的游戏。
  在游戏实现方式上打造一套可复用最佳实践。今天开始在 phaser 等成熟 canvas based 框架，以及 react-game-kit 等 react 游戏框架（svg）中调研，目标是找到并实践一套最合适彩蛋以及日后场景的工具。
- 主题、玩法、框架等更细的想法在需要调研 1-2 天后补充，争取本周内归纳得出结论。
